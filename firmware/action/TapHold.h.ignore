#ifndef MYMK_ACTION_KEY_TAPHOLD
#define MYMK_ACTION_KEY_TAPHOLD

#include "../logic/quantum/Timeline.h"

#include <string>
#include <vector>

namespace action {
class TapHold {
protected:
  enum InterruptMode {
    NONE,
    HOLD,
    TAP,
  };

  static std::function<void(logic::quantum::Timeline &)>
  LoadDefinition(const std::string &switch_uid,
                 const std::vector<std::string> &definition,
                 const InterruptMode interrupt_mode);

public:
  static std::function<void(logic::quantum::Timeline &)>
  LoadHoldDefinition(const std::string &switch_uid,
                     const std::vector<std::string> &definition);

  static std::function<void(logic::quantum::Timeline &)>
  LoadNoneDefinition(const std::string &switch_uid,
                     const std::vector<std::string> &definition);

  static std::function<void(logic::quantum::Timeline &)>
  LoadTapDefinition(const std::string &switch_uid,
                    const std::vector<std::string> &definition);

  static void OnPress(logic::quantum::Timeline &timeline,
                      const std::string &switch_even,
                      const std::vector<std::string> &definition,
                      const InterruptMode interrupt_mode);
};
} // namespace action
#endif